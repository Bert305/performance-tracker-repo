doctype html
html
  head
    title GoSprout Leaderboard
    meta(http-equiv="refresh" content="15")
    link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous")
  body
    .container.mt-4
      table.table.table-hover
        thead
          tr
            th(scope='col') Rank
            th(scope='col') Teammates
            th(scope='col') Total Tickets
            th(scope='col') To Do
            th(scope='col') In Progress
            th(scope='col') QA Review
            th(scope='col') DONE
            th(scope='col') Score
            th(scope='col') Progress
        tbody
          if members
            each member, index in members
              tr
                th(scope='row')= index + 1
                td= member.username
                td= member.totalCards
                td= member.lists['To Do'] || 0
                td= member.lists['In Progress'] || 0
                td= member.lists['QA Review'] || 0
                td= member.lists['DONE'] || 0
                td= member.score
                - var progress = (member.lists['DONE'] || 0) / member.totalCards * 100
                td
                  .progress
                    .progress-bar(role='progressbar', style=`width: ${progress}%`, aria-valuenow=progress, aria-valuemin='0', aria-valuemax='100')= `${Math.round(progress)}%`
          else
            tr
              td(colspan='9') No members found


